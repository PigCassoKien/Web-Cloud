# SmartQueue ETA & Notification Service (smartqueue-eta-service)
# Port: 8082

server.port=${SERVER_PORT:8082}
server.address=0.0.0.0

# Spring Configuration
spring.application.name=smartqueue-eta-service
spring.profiles.active=prod

aws.region=${AWS_REGION:ap-southeast-1}

# DynamoDB
aws.dynamodb.enabled=${DYNAMODB_ENABLED:true}
aws.dynamodb.endpoint=${DYNAMODB_ENDPOINT:}
aws.dynamodb.table-prefix=smartqueue-${spring.profiles.active}-

# SNS
aws.sns.enabled=${SNS_ENABLED:true}
aws.sns.topic-name=${SNS_TOPIC_NAME:SmartQueueNotifications}

# SES
aws.ses.enabled=${SES_ENABLED:true}
aws.ses.from-email=${SES_FROM_EMAIL:kien0610minh@gmail.com}
aws.ses.from-name=SmartQueue System

# Service Integration
service.queue.webhook-url=${QUEUE_SERVICE_URL:http://smartqueue-queue-service:8081}/stats/served
service.queue.timeout-ms=${QUEUE_SERVICE_TIMEOUT:5000}

# Notification Configuration
notification.mode=${NOTIFY_MODE:QUEUE}
notification.eta-threshold-minutes=${ETA_THRESHOLD:10}

# ETA Calculation Configuration
eta.calculation.ema-alpha=${ETA_EMA_ALPHA:0.3}
eta.calculation.window-size-minutes=${ETA_WINDOW_SIZE:60}
eta.calculation.default-service-rate=${DEFAULT_SERVICE_RATE:1.0}

# Management & Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.security.enabled=false
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true

# Application Info
info.app.name=SmartQueue ETA & Notification Service
info.app.description=Microservice for ETA calculation and customer notifications using AWS SNS/SES
info.app.version=1.0.0
info.app.java-version=${java.version}
info.app.profile=${spring.profiles.active}

# Logging with Trace ID Support
logging.level.com.digimarket=${LOG_LEVEL:INFO}
logging.level.com.amazonaws=WARN
logging.level.software.amazon.awssdk=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId:-}] [%thread] %-5level %logger{36} - %msg%n

# ETA Scheduler Configuration
eta.scheduler.enabled=true
eta.scheduler.update-interval-ms=60000
eta.notification.threshold-minutes=2