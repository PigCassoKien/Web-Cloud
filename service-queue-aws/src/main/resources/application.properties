# SmartQueue Queue Management Service (smartqueue-queue-service)
# Port: 8081

server.port=${SERVER_PORT:8081}

# Spring Configuration
spring.application.name=smartqueue-queue-service
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# AWS Configuration (NO HARDCODED CREDENTIALS!)
aws.region=${AWS_REGION:ap-southeast-1}

test.api-key=${TEST_KEY:LOADTEST-SECRET-KEY}

# DynamoDB
aws.dynamodb.endpoint=${DYNAMODB_ENDPOINT:}
aws.dynamodb.table-prefix=smartqueue-${spring.profiles.active}-

# Table names (auto-resolved with prefix)
aws.dynamodb.tickets-table=${DDB_TABLE_TICKETS:tickets}
aws.dynamodb.queues-table=${DDB_TABLE_QUEUES:queues}
aws.dynamodb.users-table=${DDB_TABLE_USERS:smartqueue-users}

# ETA Service Integration
service.eta.base-url=${ETA_SERVICE_URL:http://smartqueue-eta-service:8082}
service.eta.timeout-ms=${SERVICE_ETA_TIMEOUT:5000}

# Test & Internal API Key (for load testing / internal calls)
security.api-key.internal=${INTERNAL_API_KEY:INTERNAL-SECRET-KEY}

# Management & Actuator
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true

# Application Info
info.app.name=SmartQueue Queue Management Service
info.app.description=Core service for managing queues, tickets, and real-time status
info.app.version=1.0.0
info.app.java-version=${java.version}
info.app.profile=${spring.profiles.active}

# Logging with Trace ID Support
logging.level.com.digimarket=${LOG_LEVEL:INFO}
logging.level.software.amazon.awssdk=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId:-}] [%thread] %-5level %logger{36} - %msg%n